## ‚úÖ Replit Prompt: Elevate Existing Deposits to First-Class Feature (Safe Update)

**Context**

GigAid already supports deposits at a data level (partial payments applied to invoices).
However, deposits are not yet fully expressed as a **clear, intentional workflow** for gig workers or customers.

We want to **surface and formalize deposits** as a trust-building, optional feature **without changing existing payment logic or schemas**.

This update must be:

* additive only
* backward-compatible
* UI + behavior focused
* safe for MVP

---

## üéØ Goal

Upgrade deposits from ‚Äúimplicit partial payments‚Äù to a **clear, intentional job-locking mechanism** tied to Price Confirmation.

---

## 1Ô∏è‚É£ Deposit Intent (No Schema Changes)

Do **NOT** add new tables or fields.

Instead, introduce **derived behavior** using existing fields:

* If a job has:

  * a partial payment
  * payment < total
    ‚Üí treat this as a **deposit**

Add a derived flag in application logic:

```
job.hasDeposit = true if paid_amount > 0 AND paid_amount < total_amount
```

---

## 2Ô∏è‚É£ Price Confirmation ‚Üí Deposit Prompt (Critical UX Upgrade)

After a client **confirms price**:

If no deposit has been collected yet:

* Show gig worker a simple choice:

**‚ÄúDo you want to hold this appointment with a deposit?‚Äù**

Options:

* No deposit
* Flat amount (default suggestions: $25 / $50)
* Percentage (default suggestions: 20% / 30%)

Defaults should be conservative (never over 30%).

This choice is **per job**, not global.

---

## 3Ô∏è‚É£ Customer-Facing Deposit Language (Trust-First)

When a deposit is requested, customer sees:

> **‚ÄúThis payment holds your appointment and is applied to the final price.‚Äù**

Secondary line (always visible):

> ‚ÄúFully refundable if I cancel or can‚Äôt make it.‚Äù

Do NOT use:

* ‚Äúpartial payment‚Äù
* ‚Äúnon-refundable‚Äù (unless explicitly configured later)
* legal or escrow language

---

## 4Ô∏è‚É£ Job State Behavior (No New Statuses)

Do NOT add new job statuses.

Instead, add **visual indicators**:

* ‚ÄúDeposit received‚Äù badge
* ‚ÄúBalance due‚Äù amount

Behavioral rules:

* Job is considered **locked** once deposit is paid
* Auto-enable reminders once deposit is paid
* Allow rescheduling without losing deposit

---

## 5Ô∏è‚É£ Cancellation / Reschedule Logic (MVP Rules Only)

Use **simple defaults** (no configuration UI yet):

| Scenario              | Outcome                 |
| --------------------- | ----------------------- |
| Worker cancels        | Auto-refund deposit     |
| Customer cancels >24h | Refund deposit          |
| Customer cancels <24h | Deposit retained        |
| Customer reschedules  | Deposit carries forward |

Implement logic using existing payment/refund mechanisms.

Fail safely if refund is unavailable.

---

## 6Ô∏è‚É£ Owner View Enhancement (Read-Only)

In Owner View, add:

* ‚ÄúJobs secured with deposits‚Äù (count)
* ‚ÄúDeposit amount collected this week‚Äù

Read-only. No filters. No charts.

This reinforces value without complexity.

---

## 7Ô∏è‚É£ Explicit Non-Goals (Do NOT implement)

* ‚ùå New deposit schema
* ‚ùå Escrow logic
* ‚ùå Custom cancellation policies
* ‚ùå Legal terms pages
* ‚ùå Forced deposits
* ‚ùå Global deposit settings

---

## 8Ô∏è‚É£ Success Criteria

* Gig workers clearly understand **when and why** to use deposits
* Customers understand deposits as **fair and protective**
* Deposits feel optional, human, and normal
* No existing payment flows break
* No migrations required

---

**Proceed with this update exactly as scoped. Do not refactor existing payment or invoice logic.**

---

### Why this prompt matters (for you, not Replit)

This turns deposits from a **hidden capability** into a **perceived differentiator** ‚Äî without rebuilding anything.

